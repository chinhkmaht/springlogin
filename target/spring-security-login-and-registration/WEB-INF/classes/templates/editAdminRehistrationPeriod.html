<html>
<head>
    <link rel="stylesheet" href="../css/bootstrap-combined.min.css" th:href="@{/css/bootstrap-combined.min.css}" media="screen"/>
    <!--<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>-->
    <script th:src="@{/js/jquery-2.0.3.min.js}"></script>

    
    <!--<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>-->
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <link rel="stylesheet" href="../css/bootstrap-editable.css" th:href="@{/css/bootstrap-editable.css}" media="screen"/>

    <script th:src="@{/js/bootstrap-datetimepicker.min.js}"></script>

    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/bootstrap-datetimepicker.min.css}" media="screen"/>
    <script th:src="@{/js/bootstrap-editable.min.js}"></script>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/animate.css}" media="screen"/>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/main.css}" media="screen"/>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/icomoon.css}" media="screen"/>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/bootstrap.css}" media="screen"/>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/magnific-popup.css}" media="screen"/>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/owl.carousel.min.css}" media="screen"/>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/owl.theme.default.min.css}" media="screen"/>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/style.css}" media="screen"/>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/stylelogin.css}" media="screen"/>
    <link rel="stylesheet" href="../css/main.css" th:href="@{/css/main.css}" media="screen"/>

<style type="text/css">
.datetimepicker3 .add-on{
  display:none !important
}
</style>

</head>
<body>

<div id="page">
    <div th:replace="header/header :: header">...</div>
    <div class="container">

	<form th:action="@{/admin-save-registration-edit}" method="post">
        <div class="form-group row">
            <div class="form-group col-sm-6 ">
                <label class="col-sm-3" >Name Period</label>
                <span class="col-sm-5 "><input class="form-control" name="" type="text" th:if="${Timesheetregis != null}"  th:value="*{Timesheetregis.namePeriod}" id="e-name-period" readonly="readonly" value="" /></span>
            </div>
                <input id="ideditperiod" type="hidden" th:if="${Timesheetregis != null}" th:value="*{Timesheetregis.id}"/>
	         <div class="form-group col-sm-6">
	                <label class="col-sm-3" >User </label>
	                <span class="col-sm-5">
	                    <select  name="userId" class="col-sm-12" disabled="disabled" id="choiseuser"  >
	                        <option th:each="user : ${userid}"
	                                th:value="${user.id}"
	                                th:selected="${registrationPeriod.userId}"
	                                th:text="${user.lastName  + ' ' +user.firstName}">
	                        </option>
	                    </select>
	                </span>
	           </div>

        </div>
		 <input  name="userId" type="text" th:if="${registrationPeriod != null}" th:value="*{registrationPeriod.userId}"/>
		  <input  name="periodId" type="text" th:if="${registrationPeriod != null}" th:value="*{registrationPeriod.periodId}"/>
        <div class="form-group row">

            <div class="form-group col-sm-6">
                <label class="col-sm-3" >Form Date</label>
              
                    <div  class="input-append col-sm-6 datetimepicker3 ">
							<input data-format="yyyy-MM-dd" type="text" th:if="${Timesheetregis != null}" th:value="${{Timesheetregis.formDate}}" id="e-peri-formdate" readonly="readonly"></input>
							<span class="add-on">
							  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
							  </i>
							</span>
                    </div>

              
            </div>

            <div class="form-group col-sm-6">
                <label class="col-sm-3" >To Date</label>
              
                    <div  class="input-append col-sm-6 datetimepicker3 ">
							<input data-format="yyyy-MM-dd" type="text" th:if="${Timesheetregis != null}" th:field="*{Timesheetregis.toDate}" id="e-peri-todate" readonly="readonly"></input>
							<span class="add-on">
							  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
							  </i>
							</span>
                    </div>

         
            </div>
        </div>

        <div class="row">
            <div class="col-lg-8 col-md-7 col-sm-6">

                <table class="table table-striped table-hover">
                    <thead>
                    <tr>
                        <th> Monday</th>
                        <th>Tuesday</th>
                        <th> Wednesday</th>
                        <th> Thursday</th>
                        <th> Friday</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td >
                            <!--<input class="form-control" name="" type="date" id="e-peri-Monday" value="" />-->
                         <input class="form-control" name="" type="text" th:if="${Timesheetregis != null}" th:value="*{Timesheetregis.noteMonday}" readonly="readonly" id="registration-note-mon" value="" />
                            
								<div class="form-group row" >
									<label class="col-sm-6 labelcustom" >From Time</label>
									<div  class="input-append  datetimepicker ">
										<input name="fromDateMonday" data-format="hh:mm:ss" class="col-sm-9" th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.fromDateMonday}" type="text" id="registration-from-time-monday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
			
								<div class="form-group row">
									<label class="col-sm-6 labelcustom" >To Time</label>
									<div  class="input-append  datetimepicker">
										<input name="toDateMonday" data-format="hh:mm:ss" th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.toDateMonday}" class="col-sm-9" type="text" id="registration-to-time-monday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
<!-- 							   <input class="form-control" name="" type="text" th:if="${registrationPeriod != null}" th:value="*{registrationPeriod.noteMonday}"  id="registration-note-mon" value="" /> -->
                        </td>
                        <td >

                            <input class="form-control" name="" type="text" th:if="${Timesheetregis != null}" th:value="*{Timesheetregis.noteTuesday}" id="registration-note-tue" readonly="readonly" value="" />
                            
                            <div class="form-group row" >
									<label class="col-sm-6 labelcustom" >From Time</label>
									<div  class="input-append  datetimepicker ">
										<input name="fromDateTuesday" data-format="hh:mm:ss"  th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.fromDateTuesday}" class="col-sm-9" type="text" id="registration-from-time-tuesday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
			
								<div class="form-group row">
									<label class="col-sm-6 labelcustom" >To Time</label>
									<div  class="input-append  datetimepicker">
										<input name="toDateTuesday" data-format="hh:mm:ss" th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.toDateTuesday}" class="col-sm-9" type="text" id="registration-to-time-tuesday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
								
<!-- 								<input class="form-control" name="" type="text" th:if="${registrationPeriod != null}" th:value="*{registrationPeriod.noteTuesday}" id="registration-period-note-tuesday" value="" /> -->
                            
                        </td>
                        <td >

                            <input class="form-control" name="" type="text" th:if="${Timesheetregis != null}" th:value="*{Timesheetregis.noteWednesday}" id="registration-note-wed" value=""  readonly="readonly"/>
                            
                              <div class="form-group row" >
									<label class="col-sm-6 labelcustom" >From Time</label>
									<div  class="input-append  datetimepicker ">
										<input name="fromDateWednesday" data-format="hh:mm:ss"  th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.fromDateWednesday}" class="col-sm-9" type="text" id="registration-from-time-wednesday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
			
								<div class="form-group row">
									<label class="col-sm-6 labelcustom" >To Time</label>
									<div  class="input-append  datetimepicker">
										<input name="toDateWednesday" data-format="hh:mm:ss" th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.toDateWednesday}" class="col-sm-9" type="text" id="registration-to-time-wednesday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
<!--                             <input class="form-control" name="" type="text" th:if="${registrationPeriod != null}" th:value="*{registrationPeriod.noteWednesday}"  id="registration-period-note-wednesday" value="" /> -->
                        </td>
                        <td >

                            <input class="form-control" name="" type="text" th:if="${Timesheetregis != null}" th:value="*{Timesheetregis.noteThursday}" id="registration-note-thur" readonly="readonly" value="" />
                            
                             <div class="form-group row" >
									<label class="col-sm-6 labelcustom" >From Time</label>
									<div  class="input-append  datetimepicker ">
										<input name="fromDateThursday" data-format="hh:mm:ss" th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.fromDateThursday}" class="col-sm-9" type="text" id="registration-from-time-thursday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
			
								<div class="form-group row">
									<label class="col-sm-6 labelcustom" >To Time</label>
									<div  class="input-append  datetimepicker">
										<input name="toDateThursday" data-format="hh:mm:ss" th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.toDateThursday}" class="col-sm-9" type="text" id="registration-to-time-thursday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
<!--                               <input class="form-control" name="" type="text" th:if="${registrationPeriod != null}" th:value="*{registrationPeriod.noteThursday}"  id="registration-period-note-thursday" value="" /> -->
                        </td>
                        <td >

                            <input class="form-control" name="" type="text" th:if="${Timesheetregis != null}" th:value="*{Timesheetregis.noteFriday}" id="registration-note-fri" readonly="readonly" value="" />
                            
                            
                             <div class="form-group row" >
									<label class="col-sm-6 labelcustom" >From Time</label>
									<div  class="input-append  datetimepicker ">
										<input name="fromDateFriday" data-format="hh:mm:ss" th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.fromDateFriday}" class="col-sm-9" type="text" id="registration-from-time-friday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
			
								<div class="form-group row">
									<label class="col-sm-6 labelcustom" >To Time</label>
									<div  class="input-append datetimepicker">
										<input name="toDateFriday" data-format="hh:mm:ss" th:if="${registrationPeriod != null}" th:field="*{registrationPeriod.toDateFriday}" class="col-sm-9" type="text" id="registration-to-time-friday"></input>
										<span class="add-on">
										  <i data-time-icon="icon-time" data-date-icon="icon-calendar">
										  </i>
										</span>
									</div>
								</div>
<!--                              <input class="form-control" name="" type="text" th:if="${registrationPeriod != null}" th:value="*{registrationPeriod.noteFriday}"  id="registration-period-note-friday" value="" /> -->
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    <br/>
    <input id="ideditRegistrationPeriod" name="id" type="hidden" th:if="${registrationPeriod != null}" th:value="*{registrationPeriod.id}"/>
    <button type="submit" id="saveRegistrationPeriod" class="btn btn-primary" th:text="#{label.form.submit}">submit</button>
    </form>

		<div class="modal fade" id="messageModal" tabindex="-1" role="dialog" aria-labelledby="messageModalLabel" aria-hidden="true"
						th:if="${message != null}">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="exampleModalLabel">Error TimeSheet</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<ul th:each="timemessage : ${message}">
									<li th:text="${timemessage.messages}"  ></li>
									</ul>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
									<button type="button" class="btn btn-primary">Save changes</button>
								</div>
							</div>
						</div>
				</div>
    </div>
    <div th:replace="fragments/footer :: footer">...</div>
</div>

<script type="application/javascript">
    $(document).ready(function () {
    	showMessage();
		function showMessage() {
			if ($('#messageModal').length > 0) {
                $('#messageModal').modal('show');
			}
        }
    	
        $(function() {
            $('.datetimepicker3').datetimepicker({
               dateFormat: 'yyyy-MM-dd',

            });
        });

        $(function() {
            $('.datetimepicker').datetimepicker({
                pickDate: false
            });
        });
        
//         $('#saveRegistrationPeriod').on("click",function(e){
//             e.preventDefault();
//             if(confirm("Are you sure?")) {
//                 var id = $("#ideditRegistrationPeriod").val();
//                 var mondayfrom = $('#registration-from-time-monday').val();
//                 var mondayto = $('#registration-to-time-monday').val();
              
//                 var tuesdayfrom =$('#registration-from-time-tuesday').val();
//                 var tuesdayto =$('#registration-to-time-tuesday').val();
                
//                 var wednesdayfrom =$('#registration-from-time-wednesday').val();
//                 var wednesdayto =$('#registration-to-time-wednesday').val();
                
//                	var thursdayfrom  =$('#registration-from-time-thursday').val();
//                	var thursdayto  =$('#registration-to-time-thursday').val();
               
//                	var fridayfrom =$('#registration-from-time-friday').val();
//                	var fridayto =$('#registration-to-time-friday').val();
            
            	
//                     $.ajax({
//                         type: "POST",
//                         url: "/admin-save-registration-edit",
                      
//                         data: {id:id,
//                         	mondayfrom:mondayfrom,
//                         	mondayto:mondayto,
                        	
//                         	tuesdayfrom:tuesdayfrom,
//                         	tuesdayto:tuesdayto,
                        
//                         	wednesdayfrom:wednesdayfrom,
//                         	wednesdayto:wednesdayto,
                        	
//                         	thursdayfrom:thursdayfrom,
//                         	thursdayto:thursdayto,
                        	
//                         	fridayfrom:fridayfrom,
//                         	fridayto:fridayto
//                         	},
//                         success: function (data) {
//                             window.location.href="/listperiodtimesheet";
//                         }, error:function () {
								
//                            alert("error");
//                         }
                        
//                     });
//                 }
//         });

        $('.delete-localuser').on("click", function(e){
            e.preventDefault();
            if(confirm("Are you sure the order is complete?")){
                var id = parseInt($(this).closest("td").attr("id"));
                $.ajax({
                    type:"POST",
                    url:"/deletelocaluser",
                    data:{id:id},
                    success: function(data) {
                        window.location.reload();
                    },
                    error:function () {

                    	alert("error");
                    }

                });
            }
        });
    });
</script>
</body>
</html>
